import{w as j}from"./with-props-BqwZr1IK.js";import{r as h,a as y,b as N,j as e}from"./chunk-IR6S3I6Y-C6Zvu3tq.js";import{u as w}from"./UserContext-BcfRxPbJ.js";import{P as k}from"./PageTransition-1p6Ne89E.js";import{S as L}from"./LoadingSpinner-CGbvDqwE.js";import{a as f}from"./api-BXsSQKvn.js";import{c as b}from"./index-DDJz-nCr.js";import{m as v}from"./proxy-7hmYPAw3.js";const M=[{name:"Elderly Care",icon:"👵",color:"bg-amber-500",colorLight:"bg-amber-100",key:"elderly"},{name:"Medical",icon:"🩺",color:"bg-red-500",colorLight:"bg-red-100",key:"medical"},{name:"Special Needs",icon:"♿",color:"bg-blue-500",colorLight:"bg-blue-100",key:"disability"},{name:"Animal Welfare",icon:"🐾",color:"bg-green-500",colorLight:"bg-green-100",key:"animals"},{name:"Sports",icon:"⚽",color:"bg-indigo-500",colorLight:"bg-indigo-100",key:"sports"},{name:"Greener Planet",icon:"🌱",color:"bg-emerald-500",colorLight:"bg-emerald-100",key:"greener_planet"},{name:"Education",icon:"📚",color:"bg-yellow-500",colorLight:"bg-yellow-100",key:"education"},{name:"Community",icon:"👪",color:"bg-purple-500",colorLight:"bg-purple-100",key:"community"}],B=({category:s,score:a,maxScore:r=700,selected:l,onClick:o})=>{const t=Math.min(7,Math.max(1,Math.floor(a/(r/7))+1)),d=a%(r/7)/(r/7)*100,m=["Beginner","Apprentice","Enthusiast","Specialist","Expert","Master","Champion"];return e.jsxs(v.div,{className:`cursor-pointer p-5 bg-white rounded-xl shadow-md hover:shadow-xl transition-all ${l?"ring-4 ring-blue-400":""}`,onClick:o,whileHover:{scale:1.05},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("div",{className:`w-full h-36 ${s.color} text-white rounded-xl flex items-center justify-center mb-4`,children:e.jsx("span",{className:"text-6xl",children:s.icon})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.name}),e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",t]}),e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[a,"/",r]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-1",children:e.jsx("div",{className:`h-3 rounded-full ${s.color}`,style:{width:`${d}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m[t-1]})]})},$=({category:s,score:a,maxScore:r=700})=>{const l=Math.min(7,Math.max(1,Math.floor(a/(r/7))+1)),o=Math.floor(a%(r/7)),t=Math.floor(r/7),d=["Beginner","Apprentice","Enthusiast","Specialist","Expert","Master","Champion"],m=["You've just started your journey in this field.","You're building your knowledge and skills.","You're becoming familiar with this type of volunteering.","You have good experience in this area.","You have significant expertise in this field.","You've mastered this area of volunteering.","You're a leader and mentor in this field."],x=["Access to beginner resources","Access to volunteer events","Special recognition on profile","Eligibility for dedicated roles","Priority for specialized opportunities","Mentorship possibilities","Leadership opportunities"];return e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 bg-white rounded-xl shadow-lg col-span-2",children:[e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:`p-5 ${s.color} text-white rounded-xl flex items-center justify-center`,children:e.jsx("span",{className:"text-6xl",children:s.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:[s.name," Badge"]}),e.jsxs("p",{className:"text-lg font-semibold text-gray-700 mb-4",children:["Level ",l,": ",d[l-1]]}),e.jsx("p",{className:"text-gray-600 mb-6",children:m[l-1]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Progress to next level"}),e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[o,"/",t]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:`h-4 rounded-full ${s.color}`,style:{width:`${o/t*100}%`}})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Benefits at this level:"}),e.jsxs("ul",{className:"text-gray-600 space-y-1",children:[x.slice(0,l).map((i,c)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i]},c)),l<7&&x.slice(l).map((i,c)=>e.jsxs("li",{className:"flex items-center text-gray-400",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),i," (unlock at level ",c+l+1,")"]},c+l))]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Badge Levels"}),e.jsx("div",{className:"flex justify-between items-center",children:[1,2,3,4,5,6,7].map(i=>e.jsxs("div",{className:`w-1/7 px-3 py-2 text-center ${i<=l?s.color:s.colorLight} rounded-lg`,children:[e.jsx("p",{className:`text-sm font-medium ${i<=l?"text-white":"text-gray-700"}`,children:d[i-1]}),e.jsxs("p",{className:`text-xs ${i<=l?"text-white/80":"text-gray-500"}`,children:["Level ",i]})]},i))})]})]})},C=()=>{const{user:s}=w(),[a,r]=h.useState(null),[l,o]=h.useState(!0),[t,d]=h.useState(null),m=y(),x=N(),i=()=>{var n;((n=x.state)==null?void 0:n.from)==="dashboard"?m("/dashboard",{state:{activeTab:"badges"}}):m(-1)};if(h.useEffect(()=>{(async()=>{if(s&&s.email)try{o(!0);const p=(await f.get("/volunteer/list/")).find(g=>g.email===s.email);if(p){const g=await f.get(`/volunteer/${p.id}/`);r(g)}}catch(u){console.error("Error fetching volunteer data:",u)}finally{o(!1)}})()},[s]),l)return e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(L,{})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:i,className:"mr-4 p-2 rounded-full text-gray-600 hover:bg-gray-200 transition-colors","aria-label":"Go back",children:e.jsx(b,{})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Badges"})]}),e.jsx("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:e.jsx("p",{className:"text-center text-gray-600",children:"Please sign in to view your badges."})})]})});const c=a.scores||{};return a.overall_score,e.jsx(k,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx("button",{onClick:i,className:"mr-4 p-2 rounded-full text-gray-600 hover:bg-gray-200 transition-colors","aria-label":"Go back",children:e.jsx(b,{})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Badges"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 ${t?"col-span-1":"md:col-span-3"}`,children:M.map(n=>e.jsx(B,{category:n,score:c[n.key]||0,selected:(t==null?void 0:t.key)===n.key,onClick:()=>d((t==null?void 0:t.key)===n.key?null:n)},n.key))}),t&&e.jsx($,{category:t,score:c[t.key]||0})]})]})})})},V=j(C);export{V as default};
