import{w as g}from"./proxy-BvCMkRSn.js";import{a as l,t as y,n as e,L as h}from"./chunk-HA7DTUK3-Dw2W5fJk.js";import{P as j}from"./PageTransition-DzrlKaVj.js";import{S as u}from"./LoadingSpinner-p_K9Qy2C.js";import{a as c}from"./api-BXsSQKvn.js";const N=({volunteer:s,application_id:o,refresh:i})=>{async function n(a){try{await c.post(`/application/update/${o}/${a}/`),i()}catch(r){console.error("Error:",r)}}return e.jsx("div",{className:"volunteer",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"flex p-6",children:[s.display_name,e.jsx("button",{onClick:()=>n("rejected"),className:"ml-auto inline-flex items-center px-4 py-2 text-sm font-medium rounded-full text-white bg-red-900 hover:bg-gray-800 transition-colors",children:"Reject"}),e.jsx("button",{onClick:()=>n("accepted"),className:"ml-auto inline-flex items-center px-4 py-2 text-sm font-medium rounded-full text-white bg-green-900 hover:bg-gray-800 transition-colors",children:"Accept"}),e.jsx(h,{to:`/dashboard/volunteer/${s.volunteer_id}/`,className:"ml-auto inline-flex items-center px-4 py-2 text-sm font-medium rounded-full text-white bg-gray-900 hover:bg-gray-800 transition-colors",children:"View Volunteer"})]})})})},v=({volunteer:s,application_id:o,refresh:i})=>{async function n(a){try{await c.post(`/application/update/${o}/${a}/`),i()}catch(r){console.error("Error:",r)}}return e.jsx("div",{className:"volunteer",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"flex p-6",children:[s.display_name,e.jsx("button",{onClick:()=>n("not_completed"),className:"ml-auto inline-flex items-center px-4 py-2 text-sm font-medium rounded-full text-white bg-red-900 hover:bg-gray-800 transition-colors",children:"Not Completed"}),e.jsx("button",{onClick:()=>n("completed"),className:"ml-auto inline-flex items-center px-4 py-2 text-sm font-medium rounded-full text-white bg-green-900 hover:bg-gray-800 transition-colors",children:"Accept Completion"}),e.jsx(h,{to:`/dashboard/volunteer/${s.volunteer_id}/`,className:"ml-auto inline-flex items-center px-4 py-2 text-sm font-medium rounded-full text-white bg-gray-900 hover:bg-gray-800 transition-colors",children:"View Volunteer"})]})})})},w=()=>{const[s,o]=l.useState([]),[i,n]=l.useState([]),[a,r]=l.useState(!0),{id:m}=y();function f(){let t=document.getElementById("searchBar").value.toLowerCase();document.querySelectorAll(".volunteer").forEach(p=>{p.textContent.toLowerCase().includes(t)?p.style.display="block":p.style.display="none"})}l.useEffect(()=>{d()},[]);async function d(){try{r(!0);const t=await c.get(`/volunteers/pending/${m}/`);o(t);const x=await c.get(`/volunteers/requested/${m}/`);n(x)}catch(t){console.error("Error fetching opportunities:",t)}finally{r(!1)}}return e.jsx(j,{children:e.jsx("div",{className:"min-h-screen bg-white -mt-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Applications"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:e.jsx("div",{className:"flex-1",children:e.jsx("input",{id:"searchBar",type:"text",onKeyUp:f,placeholder:"Search application...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200"})})}),e.jsxs("div",{className:"flex mt-3 mb-3",children:[e.jsx("h3",{className:"w-full",children:" Applications "}),e.jsx("h3",{className:"w-full",children:" Requested Completion "})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a?e.jsx("div",{className:"col-span-2 text-center py-12",children:e.jsx(u,{})}):s.length===0?e.jsx("div",{className:"col-span-2 text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No applications found"})}):s.map(t=>e.jsx(N,{volunteer:t,application_id:t.application_id,refresh:d},t.id))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a?e.jsx("div",{className:"col-span-2 text-center py-12",children:e.jsx(u,{})}):i.length===0?e.jsx("div",{className:"col-span-2 text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No applications found"})}):i.map(t=>e.jsx(v,{volunteer:t,application_id:t.application_id,refresh:d},t.id))})]})]})]})})})},E=g(w);export{E as default};
