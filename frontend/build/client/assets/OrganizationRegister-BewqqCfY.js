import{w as z}from"./with-props-BqwZr1IK.js";import{j as e,r as o}from"./chunk-IR6S3I6Y-C6Zvu3tq.js";import{P as R}from"./PageTransition-1p6Ne89E.js";import{m as l}from"./proxy-7hmYPAw3.js";import{d as O}from"./debounce-CDx3-cb2.js";import{C as I}from"./CompleteStep-tSq5G5pi.js";import{A as E}from"./index-CrwWTF06.js";const T=({onNext:r})=>e.jsxs("div",{className:"text-center",children:[e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"text-6xl mb-8",children:"🏢"}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome to Volunteera for Organizations"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Join our platform to connect with passionate volunteers and make a difference in your community."}),e.jsx("div",{className:"space-y-6 max-w-lg mx-auto mb-8",children:e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[e.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"✨ What you can do"}),e.jsxs("ul",{className:"text-green-700 text-sm space-y-2",children:[e.jsx("li",{children:"• Post and manage volunteer opportunities"}),e.jsx("li",{children:"• Connect with skilled volunteers"}),e.jsx("li",{children:"• Track volunteer engagement"}),e.jsx("li",{children:"• Share your organization's impact"})]})]})}),e.jsx(l.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},onClick:r,className:"px-8 py-3 bg-green-500 text-white rounded-full font-medium hover:bg-green-600 transform hover:scale-105 transition-all duration-200",children:"Let's Get Started"})]})]}),q=[{id:"nonprofit",label:"Non-Profit Organization",icon:"🤝"},{id:"education",label:"Educational Institution",icon:"🎓"},{id:"government",label:"Government Agency",icon:"🏛️"},{id:"community",label:"Community Group",icon:"👥"},{id:"religious",label:"Religious Organization",icon:"⛪"},{id:"other",label:"Other",icon:"📋"}],B=({formData:r,setFormData:n,onNext:c,onBack:d})=>{const[u,s]=o.useState(""),[m,i]=o.useState([]),[p,h]=o.useState(!1),[w,y]=o.useState(!1),b=o.useRef(null);o.useEffect(()=>{const t=a=>{b.current&&!b.current.contains(a.target)&&y(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const f=o.useRef(O(async t=>{if(t.length<3){i([]),h(!1);return}h(!0);try{const x=(await(await fetch(`/api/charity-search/?q=${encodeURIComponent(t)}`)).json()).sort((g,v)=>g.reg_status==="RM"&&v.reg_status!=="RM"?1:g.reg_status!=="RM"&&v.reg_status==="RM"?-1:g.charity_name.localeCompare(v.charity_name));i(x),(x==null?void 0:x.length)>0&&y(!0)}catch(a){console.error("Search failed:",a)}finally{h(!1)}},700)).current;o.useEffect(()=>()=>{f.cancel()},[f]);const C=t=>{const a=t.target.value;s(a),n({...r,name:a}),a.length<3?(i([]),y(!1)):(h(!0),f(a))},k=async(t,a=0)=>{try{const x=await(await fetch(`/api/charity-details/${t}/${a}`)).json();x.activities&&n(g=>({...g,description:x.activities}))}catch(j){console.error("Failed to fetch charity details:",j)}},S=t=>{n(a=>({...a,name:t.charity_name,charity_number:t.reg_charity_number,selected_charity_data:t})),s(t.charity_name),i([]),y(!1),t.reg_charity_number&&k(t.reg_charity_number,t.group_subsid_suffix||0)},_=t=>{t.preventDefault(),c()};return e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"max-w-2xl mx-auto",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"relative",ref:b,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name / Search Registered Charity"}),e.jsx("input",{type:"text",required:!0,value:u||r.name,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter organization name or search registered charity"}),p&&e.jsx("div",{className:"absolute right-3 top-9",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),w&&m.length>0&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto max-h-60",children:m.map(t=>e.jsxs("div",{className:"cursor-pointer hover:bg-gray-100 py-2 px-4",onClick:()=>S(t),children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.charity_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Charity Number: ",t.reg_charity_number,t.reg_status==="RM"&&e.jsx("span",{className:"ml-2 text-red-500",children:"(Removed)"})]})]},`${t.reg_charity_number}-${t.organisation_number}`))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Organization Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:q.map(t=>e.jsxs("button",{type:"button",onClick:()=>n({...r,organizationType:t.id}),className:`p-3 rounded-lg border-2 transition-all duration-200 flex items-center gap-2
                  ${r.organizationType===t.id?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[e.jsx("span",{className:"text-xl",children:t.icon}),e.jsx("span",{className:"text-sm font-medium",children:t.label})]},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Description"}),e.jsx("textarea",{required:!0,value:r.description,onChange:t=>n({...r,description:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent h-32",placeholder:"Tell us about your organization's mission and impact..."})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:d,className:"px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors",children:"Continue"})]})]})})},L=({formData:r,setFormData:n,onNext:c,onBack:d})=>{const u=s=>{s.preventDefault(),c()};return e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"max-w-2xl mx-auto",children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("input",{type:"url",value:r.website,onChange:s=>n({...r,website:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://www.example.org"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",required:!0,value:r.phone,onChange:s=>n({...r,phone:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+1 (555) 000-0000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),e.jsx("input",{type:"text",required:!0,value:r.address,onChange:s=>n({...r,address:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"123 Main St"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",required:!0,value:r.city,onChange:s=>n({...r,city:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),e.jsx("input",{type:"text",required:!0,value:r.postalCode,onChange:s=>n({...r,postalCode:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Postal Code"})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:d,className:"px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors",children:"Continue"})]})]})})},M=({formData:r,setFormData:n,onNext:c,onBack:d})=>{const u=o.useRef(null),s=i=>{i.preventDefault(),c()},m=i=>{const p=i.target.files[0];p&&n({...r,logo:p})};return e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"max-w-2xl mx-auto",children:e.jsxs("form",{onSubmit:s,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Registration Number"}),e.jsx("input",{type:"text",required:!0,value:r.registrationNumber,onChange:i=>n({...r,registrationNumber:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter registration number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax ID / EIN"}),e.jsx("input",{type:"text",required:!0,value:r.taxId,onChange:i=>n({...r,taxId:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter tax ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Logo"}),e.jsx("div",{onClick:()=>{var i;return(i=u.current)==null?void 0:i.click()},className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-green-500 transition-colors",children:r.logo?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selected file:"}),e.jsx("p",{className:"text-green-600 font-medium",children:r.logo.name})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Click to upload logo"})]})}),e.jsx("input",{ref:u,type:"file",accept:"image/*",className:"hidden",onChange:m})]}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-yellow-50 border border-yellow-100 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"🔒 Verification Notice"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"We'll review your organization's information within 1-2 business days. You'll receive an email confirmation once your account is verified."})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{type:"button",onClick:d,className:"px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors",children:"Submit for Verification"})]})]})})},N=[{id:"welcome",title:"Welcome",description:"Let's get your organization set up",icon:"🏢"},{id:"basic",title:"Organization Info",description:"Tell us about your organization",icon:"📋"},{id:"contact",title:"Contact Details",description:"How volunteers can reach you",icon:"📞"},{id:"verification",title:"Verification",description:"Verify your organization",icon:"✅"},{id:"complete",title:"All Set!",description:"Ready to post opportunities",icon:"🎉"}],P=()=>{const[r,n]=o.useState(0),[c,d]=o.useState({name:"",email:"",password:"",organizationType:"",description:"",website:"",phone:"",address:"",city:"",postalCode:"",registrationNumber:"",taxId:"",logo:null}),u=()=>{switch(r){case 0:return e.jsx(T,{onNext:()=>n(1)});case 1:return e.jsx(B,{formData:c,setFormData:d,onNext:()=>n(2),onBack:()=>n(0)});case 2:return e.jsx(L,{formData:c,setFormData:d,onNext:()=>n(3),onBack:()=>n(1)});case 3:return e.jsx(M,{formData:c,setFormData:d,onNext:()=>n(4),onBack:()=>n(2)});case 4:return e.jsx(I,{});default:return null}};return e.jsx(R,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between mb-2",children:N.map((s,m)=>e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-xl
                      ${m<=r?"bg-green-500 text-white":"bg-gray-200 text-gray-400"}`,children:s.icon}),e.jsx("div",{className:"hidden md:block text-sm mt-2 text-gray-500",children:s.title})]},s.id))}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full",children:e.jsx(l.div,{className:"absolute left-0 top-0 h-full bg-green-500 rounded-full",initial:{width:"0%"},animate:{width:`${r/(N.length-1)*100}%`},transition:{duration:.3}})})]}),e.jsx(E,{mode:"wait",children:e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:u()},r)})]})})})},J=z(P);export{J as default};
