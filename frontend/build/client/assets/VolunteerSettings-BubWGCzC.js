import{w as F}from"./with-props-BqwZr1IK.js";import{r as l,u as P,j as e}from"./chunk-IR6S3I6Y-C6Zvu3tq.js";import"./index.modern-DddIrP7d.js";import{a as y}from"./api-BXsSQKvn.js";import{P as $}from"./PageTransition-1p6Ne89E.js";import{S as q}from"./LoadingSpinner-CGbvDqwE.js";import{m as n}from"./proxy-7hmYPAw3.js";import"./index-CUe7o6jQ.js";const E={Animal:"🐶",Elderly:"👵",Greener_Planet:"🌱",Sports:"⚽",Medical:"🧬",Disability:"♿",Community:"🤝",Educational:"🎓"},T=()=>{const[p,u]=l.useState(!0),[o,b]=l.useState(null),[x,h]=l.useState(""),[f,g]=l.useState("red"),[w,j]=l.useState([]),{id:c}=P(),[i,N]=l.useState("profile"),[a,r]=l.useState({f_name:"",l_name:"",display_name:"",interests:[],password:"",passwordNew:"",passwordConfirm:"",showName:null,showFriends:null});l.useEffect(()=>{async function s(){try{u(!0);let t=await y.get(`/volunteer/${c}/`);b(t);const m={f_name:t.f_name,l_name:t.l_name,display_name:t.display_name,interests:t.interests};r(S=>({...S,...m})),t=await y.get("/interests/"),j(t),u(!1)}catch(t){console.error("Error fetching opportunities:",t)}}c&&s()},[c]);const v={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},k={hidden:{y:20,opacity:0},show:{y:0,opacity:1}},C=s=>{r(t=>({...t,interests:t.interests.includes(s)?t.interests.filter(m=>m!==s):[...t.interests,s]}))};async function _(){try{const s=await fetch(`/api/volunteer/${c}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw new Error(t.error||"Save failed");const t=await s.json();h(t.message),g(t.colour)}catch(s){console.log(s.message)}}function d(s){N(s),h("")}return console.log(a),e.jsx($,{children:p?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(q,{})}):o.is_user?e.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl shadow-lg p-6  text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsx("button",{onClick:()=>d("profile"),className:`text-white font-medium ${i==="profile"?"underline":"hover:text-gray-200 hover:underline"}`,children:"Profile"}),e.jsx("button",{onClick:()=>d("accessibility"),className:`text-white font-medium ${i==="accessibility"?"underline":"hover:text-gray-200 hover:underline"}`,children:"Accessibility"}),e.jsx("button",{onClick:()=>d("security"),className:`text-white font-medium ${i==="security"?"underline":"hover:text-gray-200 hover:underline"}`,children:"Security"}),e.jsx("button",{onClick:()=>d("notifications"),className:`text-white font-medium ${i==="notifications"?"underline":"hover:text-gray-200 hover:underline"}`,children:"Notifications"}),e.jsx("button",{onClick:()=>d("interests"),className:`text-white font-medium ${i==="interests"?"underline":"hover:text-gray-200 hover:underline"}`,children:"Interests"})]})]})}),x&&e.jsx("div",{className:`mt-5 ml-5 mr-5 p-4 bg-${f}-100 text-black-700 rounded-full text-center`,children:x}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i==="profile"&&e.jsx(n.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-600",children:"Here you can update your profile information."}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:"Email address"}),e.jsx("input",{id:"email",type:"email",required:!0,value:o.email,className:"mt-1 ml-5 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-200",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:"First Name"}),e.jsx("input",{id:"first_name",type:"first_name",required:!0,value:o.f_name,className:"mt-1 ml-5 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-200",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:"Last Name"}),e.jsx("input",{id:"last_name",type:"last_name",required:!0,value:o.l_name,className:"mt-1 ml-5 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-200",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"display_name",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:"Display Name"}),e.jsx("input",{id:"display_name",type:"display_name",value:o.display_name,required:!0,className:"mt-1 ml-5 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:s=>r({...a,display_name:s.target.value})})]})]})}),i==="security"&&e.jsx("div",{children:e.jsxs(n.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Security Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your security preferences."}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:"Current Password"}),e.jsx("input",{id:"password",type:"password",required:!0,className:"mt-1 ml-5 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:s=>r({...a,password:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passwordNew",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:"New Password"}),e.jsx("input",{id:"passwordNew",type:"password",required:!0,className:"mt-1 ml-5 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:s=>r({...a,passwordNew:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:"Confirm Password"}),e.jsx("input",{id:"passwordConfirm",type:"password",required:!0,className:"mt-1 ml-5 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:s=>r({...a,passwordConfirm:s.target.value})})]})]})}),i==="notifications"&&e.jsx(n.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Notification Settings"}),e.jsx("p",{className:"text-gray-600",children:"Choose which notifications you want to receive and how."})]})}),i==="accessibility"&&e.jsx(n.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Accessibility Settings"}),e.jsx("p",{className:"text-gray-600",children:"Choose what you want others to see."}),e.jsx("div",{children:e.jsxs("label",{htmlFor:"showName",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:["Show your real name",e.jsx("input",{id:"showName",type:"checkbox",defaultChecked:o.showName,required:!0,className:"ml-5",onChange:s=>r({...a,showName:s.target.checked})})]})}),e.jsx("div",{children:e.jsxs("label",{htmlFor:"showFriends",className:"block text-sm font-medium text-gray-700 mt-5 ml-5",children:["Let people see your friends",e.jsx("input",{id:"showFriends",type:"checkbox",defaultChecked:o.showFriends,required:!0,className:"ml-5",onChange:s=>r({...a,showFriends:s.target.checked})})]})})]})}),i==="interests"&&e.jsx("div",{children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(n.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Interests"}),"What causes interest you?"]}),e.jsx(n.div,{variants:v,initial:"hidden",animate:"show",className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:w.map(s=>e.jsx(n.div,{variants:k,whileHover:{scale:1.03},whileTap:{scale:.98},children:e.jsxs("button",{onClick:()=>C(s.id),className:`w-full p-4 rounded-xl border-2 transition-all duration-200 flex flex-col items-center gap-2
                              ${a.interests.includes(s.id)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"text-3xl",children:E[s.category]}),e.jsx("span",{className:"font-medium",children:s.name})]})},s.id))})]})})]})})]})}),e.jsx("div",{className:"w-full flex justify-center items-center mt-4",children:e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex justify-between",children:e.jsx("button",{onClick:_,disabled:a.interests.length===0,className:`mb-4 px-6 py-2 rounded-full text-white transition-all duration-200
              ${a.interests.length>0?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:"Save"})})})]}):"You cannot edit this user"})},J=F(T);export{J as default};
