import{w as j}from"./with-props-BqwZr1IK.js";import{j as e,r as u}from"./chunk-IR6S3I6Y-C6Zvu3tq.js";import{P as v}from"./PageTransition-1p6Ne89E.js";import{m as i}from"./proxy-7hmYPAw3.js";import{G as w}from"./UserContext-BcfRxPbJ.js";import{C as N}from"./CompleteStep-tSq5G5pi.js";import{a as S}from"./api-BXsSQKvn.js";import{A as k}from"./index-CrwWTF06.js";const C=({onNext:t})=>e.jsxs("div",{className:"text-center",children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"text-6xl mb-6",children:"👋"}),e.jsx(i.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome to Volunteera"}),e.jsx(i.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-gray-600 mb-8",children:"Join our community of volunteers and make a difference in your local area."}),e.jsx(i.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},onClick:t,className:"px-8 py-3 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transform hover:scale-105 transition-all duration-200",children:"Let's Get Started"})]}),_=({formData:t,setFormData:r,onNext:m,onBack:x})=>{const[p,d]=u.useState(""),l=a=>{a.preventDefault(),m()},o=async a=>{try{const c=await fetch("/api/auth/google/callback/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:a.credential,user_type:"volunteer"})}),g=await c.json();if(!c.ok)throw new Error("Google registration failed")}catch(c){console.log(c.message)}};return e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(w,{onSuccess:o,onError:()=>d("Google registration failed"),className:"mb-4",containerProps:{allow:"identity-credentials-get"},use_fedcm_for_prompt:!0}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{type:"text",required:!0,value:t.f_name,onChange:a=>r({...t,f_name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",required:!0,value:t.l_name,onChange:a=>r({...t,l_name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),e.jsx("input",{type:"text",required:!0,value:t.display_name,onChange:a=>r({...t,display_name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:t.email,onChange:a=>r({...t,email:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",required:!0,value:t.password,onChange:a=>r({...t,password:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Again"}),e.jsx("input",{type:"password",required:!0,value:t.password2,onChange:a=>r({...t,password2:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",children:"Continue"})]})]})]})},E={Animal:"🐶",Elderly:"👵",Greener_Planet:"🌱",Sports:"⚽",Medical:"🧬",Disability:"♿",Community:"🤝",Educational:"🎓"},P=({interests:t,selectedInterests:r,onToggle:m,onNext:x,onBack:p})=>{const d={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},l={hidden:{y:20,opacity:0},show:{y:0,opacity:1}};return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(i.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"What causes interest you?"}),e.jsx(i.div,{variants:d,initial:"hidden",animate:"show",className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:t.map(o=>e.jsx(i.div,{variants:l,whileHover:{scale:1.03},whileTap:{scale:.98},children:e.jsxs("button",{onClick:()=>m(o.id),className:`w-full p-4 rounded-xl border-2 transition-all duration-200 flex flex-col items-center gap-2
                ${r.includes(o.id)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"text-3xl",children:E[o.category]}),e.jsx("span",{className:"font-medium",children:o.name})]})},o.id))}),e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex justify-between",children:[e.jsx("button",{onClick:p,className:"px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{onClick:x,disabled:r.length===0,className:`px-6 py-2 rounded-full text-white transition-all duration-200
            ${r.length>0?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:"Continue"})]})]})},y=[{id:"welcome",title:"Welcome to Volunteera",description:"Let's get you started on your volunteering journey",icon:"👋"},{id:"basic",title:"Basic Information",description:"Tell us a bit about yourself",icon:"👤"},{id:"interests",title:"Your Interests",description:"What causes are you passionate about?",icon:"❤️"},{id:"complete",title:"All Set!",description:"Ready to make a difference",icon:"🎉"}],T=()=>{const[t,r]=u.useState(0),[m,x]=u.useState([]),[p,d]=u.useState(!0),[l,o]=u.useState({f_name:"",l_name:"",display_name:"",email:"",password:"",password2:"",interests:[]}),a=()=>{r(s=>Math.min(s+1,y.length-1))},c=()=>{r(s=>Math.max(s-1,0))};async function g(){try{const s=await fetch("/api/auth/volunteer/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),n=await s.json();if(!s.ok)throw new Error(n.error||"Registration failed")}catch(s){console.log(s.message)}}u.useEffect(()=>{(async()=>{try{d(!0);const n=await S.get("/interests/");x(n)}catch(n){console.error("Error fetching interests:",n)}finally{d(!1)}})()},[]);const b=s=>{o(n=>({...n,interests:n.interests.includes(s)?n.interests.filter(f=>f!==s):[...n.interests,s]}))},h=()=>{switch(t){case 0:return e.jsx(C,{onNext:a});case 1:return e.jsx(_,{formData:l,setFormData:o,onNext:a,onBack:c});case 2:return e.jsx(P,{interests:m,selectedInterests:l.interests,onToggle:b,onNext:a,onBack:c});case 3:return g(),e.jsx(N,{type:"volunteer"});default:return null}};return e.jsx(v,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between mb-2",children:y.map((s,n)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-xl
                      ${n<=t?"bg-blue-500 text-white":"bg-gray-200 text-gray-400"}`,children:s.icon}),e.jsx("div",{className:"hidden md:block text-sm mt-2 text-gray-500",children:s.title})]},s.id))}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full",children:e.jsx(i.div,{className:"absolute left-0 top-0 h-full bg-blue-500 rounded-full",initial:{width:"0%"},animate:{width:`${t/(y.length-1)*100}%`},transition:{duration:.3}})})]}),e.jsx(k,{mode:"wait",children:e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:h()},t)})]})})})},O=j(T);export{O as default};
